import{_ as e}from"./home-d4-uYrIC.js";function n(n){document.body.classList.add("login-background"),n.innerHTML='\n    <div style="display: flex; align-items: center; justify-content: center; min-height: 60vh; padding: 40px 20px;">\n      <div class="login-card animated-fade-in">\n        <div style="text-align: center; margin-bottom: 32px;">\n          <div style="font-size: 64px; margin-bottom: 16px;">ğŸ«</div>\n          <h2 class="login-title">Iniciar SesiÃ³n</h2>\n          <p style="color: var(--muted); margin: 0;">Portal Educativo IE Valdivia</p>\n        </div>\n        \n        <form id="login-form" class="login-form">\n          <div>\n            <label for="login-username">ğŸ‘¤ Usuario</label>\n            <input type="text" id="login-username" placeholder="Ingresa tu nombre de usuario" required />\n          </div>\n\n          <div>\n            <label for="login-role">ğŸ­ Rol</label>\n            <select id="login-role" required>\n              <option value="visitante">ğŸ“ Visitante</option>\n              <option value="admin">ğŸ‘¨â€ğŸ’¼ Administrador</option>\n            </select>\n          </div>\n\n          <div id="admin-password-container" style="display: none;">\n            <label for="admin-password">ğŸ” ContraseÃ±a de administrador</label>\n            <input type="password" id="admin-password" placeholder="ContraseÃ±a especial" />\n            <div style="font-size: 12px; color: var(--muted); margin-top: 4px;">\n              ContraseÃ±a requerida para acceso administrativo\n            </div>\n          </div>\n\n          <button type="submit" class="btn-ingresar">\n            ğŸš€ Entrar al Portal\n          </button>\n\n          <div style="text-align: center; margin-top: 20px;">\n            <p class="register-link">\n              Â¿Eres nuevo? <a href="#" id="go-register">RegÃ­strate aquÃ­</a>\n            </p>\n          </div>\n        </form>\n        \n        <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid var(--border); text-align: center;">\n          <div style="color: var(--muted); font-size: 14px; margin-bottom: 8px;">\n            <strong>Demo para pruebas:</strong>\n          </div>\n          <div style="display: grid; gap: 8px; font-size: 13px; color: var(--accent-light);">\n            <div>ğŸ“ <strong>Visitante:</strong> Acceso de solo lectura</div>\n            <div>ğŸ‘¨â€ğŸ’¼ <strong>Admin:</strong> ContraseÃ±a: <code style="background: rgba(37,99,235,0.1); padding: 2px 6px; border-radius: 4px;">12</code></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  ';const r=n.querySelector("#login-role"),o=n.querySelector("#admin-password-container");r.addEventListener("change",()=>{"admin"===r.value?(o.style.display="block",o.style.animation="fadeInDown 0.3s ease-out"):o.style.display="none"}),n.querySelector("#go-register").addEventListener("click",r=>{r.preventDefault(),e(()=>import("./Register-BaDlAEge.js"),[]).then(e=>{e.renderRegister(n)}).catch(()=>{t("âš ï¸ Registro temporalmente no disponible","error")})}),n.querySelector("#login-form").addEventListener("submit",e=>{e.preventDefault(),function(e){const n=e.querySelector("#login-username").value.trim(),r=e.querySelector("#login-role").value,o=e.querySelector("#admin-password").value;if(!n)return void t("âŒ Por favor ingresa tu nombre de usuario","error");if(n.length<2)return void t("âŒ El nombre de usuario debe tener al menos 2 caracteres","error");if("admin"===r){if(!o)return void t("âŒ La contraseÃ±a de administrador es requerida","error");if("12"!==o){t("âŒ ContraseÃ±a de administrador incorrecta","error");const n=e.querySelector("#admin-password");return n.style.animation="shake 0.5s ease-in-out",void setTimeout(()=>{n.style.animation="",n.focus(),n.select()},500)}}const a={username:n,role:r,loginTime:(new Date).toISOString(),avatar:n[0].toUpperCase()};try{localStorage.setItem("user",JSON.stringify(a)),document.body.classList.remove("login-background"),t(`ğŸ‰ Â¡Bienvenido${"admin"===r?", Administrador":""} ${n}!`,"success"),e.style.animation="fadeOut 0.5s ease-out",setTimeout(()=>{location.reload()},1e3)}catch(i){t("âŒ Error al guardar los datos del usuario","error")}}(n)}),setTimeout(()=>{const e=n.querySelector("#login-username");e&&e.focus()},100)}function t(e,n="success"){const t=document.createElement("div");t.className="toast-message",t.textContent=e,"error"===n&&(t.style.background="linear-gradient(135deg, var(--danger), #b91c1c)"),document.body.appendChild(t),setTimeout(()=>{t.parentNode&&(t.style.animation="slideInRight 0.3s ease-out reverse",setTimeout(()=>t.remove(),300))},3e3)}if(!document.querySelector("#login-animations")){const e=document.createElement("style");e.id="login-animations",e.textContent="\n@keyframes shake {\n  0%, 20%, 40%, 60%, 80% {\n    transform: translateX(-10px);\n  }\n  10%, 30%, 50%, 70%, 90% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  to {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n}\n",document.head.appendChild(e)}export{n as renderLogin};
