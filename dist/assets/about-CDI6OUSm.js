function e(){const t=localStorage.getItem("aboutContent");if(!t){const e={title:"Sobre Nosotros",subtitle:"Conoce a nuestra instituciÃ³n educativa",heroImage:"/src/assets/placeholder.png",mission:"Formar estudiantes Ã­ntegros con valores, conocimientos y competencias para la vida.",vision:"Ser una instituciÃ³n educativa lÃ­der en formaciÃ³n integral y excelencia acadÃ©mica.",history:"Nuestra instituciÃ³n tiene una rica historia de mÃ¡s de 50 aÃ±os formando generaciones de estudiantes exitosos. Fundada en 1970, hemos sido pioneros en educaciÃ³n de calidad en la regiÃ³n.",contact:{address:"Calle Principal #123, Valdivia",phone:"+56 63 2111111",email:"contacto@ievaldivia.edu.cl",website:"www.ievaldivia.edu.cl",schedule:"Lunes a Viernes: 8:00 AM - 6:00 PM"},team:[{id:1,name:"MarÃ­a Elena GonzÃ¡lez",role:"Directora General",photo:"/src/assets/placeholder.png",email:"direccion@ievaldivia.edu.cl",phone:"+56 63 2111112"},{id:2,name:"Carlos RodrÃ­guez",role:"Subdirector AcadÃ©mico",photo:"/src/assets/placeholder.png",email:"academico@ievaldivia.edu.cl",phone:"+56 63 2111113"},{id:3,name:"Ana Patricia Silva",role:"Coordinadora de Convivencia",photo:"/src/assets/placeholder.png",email:"convivencia@ievaldivia.edu.cl",phone:"+56 63 2111114"}],gallery:[{id:1,image:"/src/assets/placeholder.png",title:"Fachada Principal",description:"Vista frontal de nuestra instituciÃ³n"},{id:2,image:"/src/assets/placeholder.png",title:"Laboratorio de Ciencias",description:"Modernas instalaciones para experimentos"},{id:3,image:"/src/assets/placeholder.png",title:"Biblioteca",description:"Espacio de estudio y investigaciÃ³n"}],achievements:[{id:1,year:"2023",title:"Mejor InstituciÃ³n Educativa Regional",description:"Reconocimiento por excelencia acadÃ©mica"},{id:2,year:"2022",title:"Proyecto de InnovaciÃ³n Educativa",description:"Premio nacional por metodologÃ­as innovadoras"}],extra:{values:"Respeto, Responsabilidad, Excelencia, InnovaciÃ³n, Solidaridad",enrollment:"850 estudiantes",teachers:"45 docentes especializados",levels:"Preescolar, Primaria, Secundaria"}};return localStorage.setItem("aboutContent",JSON.stringify(e)),e}try{return JSON.parse(t)}catch(a){return e()}}function t(){const e=JSON.parse(localStorage.getItem("user")||"{}");return e&&"admin"===e.role}function a(e=""){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function n(n){const o=e();if(n.innerHTML=`\n    <section class="about-section">\n      \x3c!-- Hero Section --\x3e\n      <div class="about-hero">\n        <img class="about-hero-img" src="${a(o.heroImage||"/src/assets/placeholder.png")}" alt="Imagen institucional" />\n        <div class="about-hero-overlay">\n          <h1 class="about-title">${a(o.title||"Sobre Nosotros")}</h1>\n          <p class="about-subtitle">${a(o.subtitle||"")}</p>\n        </div>\n      </div>\n\n      \x3c!-- InformaciÃ³n BÃ¡sica --\x3e\n      <div class="about-grid">\n        <div class="about-card">\n          <h3>ğŸ¯ MisiÃ³n</h3>\n          <p>${a(o.mission||"")}</p>\n        </div>\n        <div class="about-card">\n          <h3>ğŸ”® VisiÃ³n</h3>\n          <p>${a(o.vision||"")}</p>\n        </div>\n        <div class="about-card full">\n          <h3>ğŸ“š Historia</h3>\n          <p>${a(o.history||"")}</p>\n        </div>\n      </div>\n\n      \x3c!-- InformaciÃ³n Adicional --\x3e\n      ${o.extra?`\n      <div class="about-grid">\n        <div class="about-card">\n          <h3>â­ Valores Institucionales</h3>\n          <p>${a(o.extra.values||"")}</p>\n        </div>\n        <div class="about-card">\n          <h3>ğŸ‘¥ Nuestra Comunidad</h3>\n          <p><strong>Estudiantes:</strong> ${a(o.extra.enrollment||"")}</p>\n          <p><strong>Docentes:</strong> ${a(o.extra.teachers||"")}</p>\n          <p><strong>Niveles:</strong> ${a(o.extra.levels||"")}</p>\n        </div>\n      </div>\n      `:""}\n\n      \x3c!-- Equipo Directivo --\x3e\n      ${o.team&&o.team.length?`\n      <div class="team-section">\n        <h2 style="text-align: center; color: var(--accent-light); font-size: 32px; margin-bottom: 24px;">ğŸ‘¥ Equipo Directivo</h2>\n        <div class="team-grid">\n          ${o.team.map(e=>`\n            <div class="team-member">\n              <img src="${a(e.photo||"/src/assets/placeholder.png")}" alt="${a(e.name)}" />\n              <h4>${a(e.name)}</h4>\n              <div class="role">${a(e.role)}</div>\n              <div class="contact">\n                ${e.email?`<p>ğŸ“§ ${a(e.email)}</p>`:""}\n                ${e.phone?`<p>ğŸ“ ${a(e.phone)}</p>`:""}\n              </div>\n            </div>\n          `).join("")}\n        </div>\n      </div>\n      `:""}\n\n      \x3c!-- InformaciÃ³n de Contacto --\x3e\n      <div class="about-card" style="margin: 40px 0;">\n        <h3>ğŸ“ InformaciÃ³n de Contacto</h3>\n        <div class="contact-grid">\n          ${o.contact.address?`\n          <div class="contact-item">\n            <div class="contact-icon">ğŸ“</div>\n            <div class="contact-info">\n              <h5>DirecciÃ³n</h5>\n              <p>${a(o.contact.address)}</p>\n            </div>\n          </div>\n          `:""}\n          ${o.contact.phone?`\n          <div class="contact-item">\n            <div class="contact-icon">ğŸ“</div>\n            <div class="contact-info">\n              <h5>TelÃ©fono</h5>\n              <p>${a(o.contact.phone)}</p>\n            </div>\n          </div>\n          `:""}\n          ${o.contact.email?`\n          <div class="contact-item">\n            <div class="contact-icon">ğŸ“§</div>\n            <div class="contact-info">\n              <h5>Email</h5>\n              <p>${a(o.contact.email)}</p>\n            </div>\n          </div>\n          `:""}\n          ${o.contact.website?`\n          <div class="contact-item">\n            <div class="contact-icon">ğŸŒ</div>\n            <div class="contact-info">\n              <h5>Sitio Web</h5>\n              <p>${a(o.contact.website)}</p>\n            </div>\n          </div>\n          `:""}\n          ${o.contact.schedule?`\n          <div class="contact-item">\n            <div class="contact-icon">ğŸ•’</div>\n            <div class="contact-info">\n              <h5>Horario de AtenciÃ³n</h5>\n              <p>${a(o.contact.schedule)}</p>\n            </div>\n          </div>\n          `:""}\n        </div>\n      </div>\n\n      \x3c!-- GalerÃ­a Institucional --\x3e\n      ${o.gallery&&o.gallery.length?`\n      <div class="gallery-section">\n        <h2 style="text-align: center; color: var(--accent-light); font-size: 32px; margin-bottom: 24px;">ğŸ« GalerÃ­a Institucional</h2>\n        <div class="gallery-grid">\n          ${o.gallery.map(e=>`\n            <div class="gallery-item" onclick="openImageModal('${a(e.image)}', '${a(e.title)}')">\n              <img src="${a(e.image)}" alt="${a(e.title)}" />\n              <div class="gallery-overlay">\n                <p>${a(e.title)}</p>\n              </div>\n            </div>\n          `).join("")}\n        </div>\n      </div>\n      `:""}\n\n      \x3c!-- Logros y Reconocimientos --\x3e\n      ${o.achievements&&o.achievements.length?`\n      <div class="about-card" style="margin: 40px 0;">\n        <h3>ğŸ† Logros y Reconocimientos</h3>\n        <div style="display: grid; gap: 16px; margin-top: 16px;">\n          ${o.achievements.map(e=>`\n            <div style="padding: 16px; background: rgba(37,99,235,0.1); border-radius: var(--radius-sm); border: 1px solid var(--border);">\n              <div style="display: flex; gap: 16px; align-items: center;">\n                <div style="background: var(--accent); color: var(--white); padding: 8px 16px; border-radius: 20px; font-weight: 700; font-size: 14px;">\n                  ${a(e.year)}\n                </div>\n                <div style="flex: 1;">\n                  <h5 style="margin: 0 0 4px 0; color: var(--text);">${a(e.title)}</h5>\n                  <p style="margin: 0; color: var(--muted); font-size: 14px;">${a(e.description)}</p>\n                </div>\n              </div>\n            </div>\n          `).join("")}\n        </div>\n      </div>\n      `:""}\n\n      \x3c!-- Botones de AdministraciÃ³n --\x3e\n      ${t()?'\n      <div class="about-admin-actions">\n        <h3 style="margin-bottom: 20px; color: var(--text);">âš™ï¸ Panel de AdministraciÃ³n</h3>\n        \n      </div>\n      ':""}\n    </section>\n  `,t()){const e=n.querySelector("#editAboutBtn");e&&e.addEventListener("click",i)}}function i(){var n,i,u,m,v,p,b,g,h;if(!t())return void d("âŒ Solo los administradores pueden editar esta secciÃ³n","error");if(document.getElementById("aboutEditModal"))return;const y=e(),x=document.createElement("div");x.id="aboutEditModal",x.className="modal",x.innerHTML=`\n    <div class="modal-content about-edit-modal">\n      <header style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;">\n        <h3>âš™ï¸ Editar InformaciÃ³n Institucional</h3>\n        <button id="closeAboutEdit" class="btn-cancelar">âœ• Cerrar</button>\n      </header>\n\n      \x3c!-- Tabs de navegaciÃ³n --\x3e\n      <div class="about-edit-tabs">\n        <button class="about-tab active" data-tab="basic">ğŸ“ BÃ¡sico</button>\n        <button class="about-tab" data-tab="team">ğŸ‘¥ Equipo</button>\n        <button class="about-tab" data-tab="contact">ğŸ“ Contacto</button>\n        <button class="about-tab" data-tab="gallery">ğŸ–¼ï¸ GalerÃ­a</button>\n        <button class="about-tab" data-tab="achievements">ğŸ† Logros</button>\n        <button class="about-tab" data-tab="extra">â­ Extra</button>\n      </div>\n\n      \x3c!-- Contenido de tabs --\x3e\n      <div id="basicTab" class="tab-content active">\n        <div class="about-edit-grid">\n          <label>ğŸ·ï¸ TÃ­tulo Principal</label>\n          <input id="about_title" value="${a(y.title||"")}" placeholder="Ej: Sobre Nosotros" />\n\n          <label>ğŸ“ SubtÃ­tulo</label>\n          <input id="about_subtitle" value="${a(y.subtitle||"")}" placeholder="Ej: Conoce a nuestra instituciÃ³n" />\n\n          <label>ğŸ–¼ï¸ Imagen Principal (URL)</label>\n          <input id="about_hero_url" value="${a(y.heroImage||"")}" placeholder="https://..." />\n          \n          <label>ğŸ“ Subir imagen principal</label>\n          <input type="file" id="about_hero_file" accept="image/*" />\n\n          <label>ğŸ¯ MisiÃ³n</label>\n          <textarea id="about_mission" rows="3" placeholder="Describe la misiÃ³n institucional...">${a(y.mission||"")}</textarea>\n\n          <label>ğŸ”® VisiÃ³n</label>\n          <textarea id="about_vision" rows="3" placeholder="Describe la visiÃ³n institucional...">${a(y.vision||"")}</textarea>\n\n          <label>ğŸ“š Historia</label>\n          <textarea id="about_history" rows="5" placeholder="Cuenta la historia de la instituciÃ³n...">${a(y.history||"")}</textarea>\n        </div>\n      </div>\n\n      <div id="teamTab" class="tab-content">\n        <div id="teamList"></div>\n        <button id="addTeamMember" class="btn-publicar" style="margin-top: 16px;">â• Agregar Miembro</button>\n      </div>\n\n      <div id="contactTab" class="tab-content">\n        <div class="about-edit-grid">\n          <label>ğŸ“ DirecciÃ³n</label>\n          <input id="contact_address" value="${a((null==(n=y.contact)?void 0:n.address)||"")}" placeholder="Calle Principal #123..." />\n\n          <label>ğŸ“ TelÃ©fono Principal</label>\n          <input id="contact_phone" value="${a((null==(i=y.contact)?void 0:i.phone)||"")}" placeholder="+56 63 2111111" />\n\n          <label>ğŸ“§ Email Principal</label>\n          <input id="contact_email" value="${a((null==(u=y.contact)?void 0:u.email)||"")}" placeholder="contacto@institucion.edu" />\n\n          <label>ğŸŒ Sitio Web</label>\n          <input id="contact_website" value="${a((null==(m=y.contact)?void 0:m.website)||"")}" placeholder="www.institucion.edu" />\n\n          <label>ğŸ•’ Horario de AtenciÃ³n</label>\n          <input id="contact_schedule" value="${a((null==(v=y.contact)?void 0:v.schedule)||"")}" placeholder="Lunes a Viernes: 8:00 AM - 6:00 PM" />\n        </div>\n      </div>\n\n      <div id="galleryTab" class="tab-content">\n        <div id="galleryList"></div>\n        <button id="addGalleryItem" class="btn-publicar" style="margin-top: 16px;">â• Agregar Imagen</button>\n      </div>\n\n      <div id="achievementsTab" class="tab-content">\n        <div id="achievementsList"></div>\n        <button id="addAchievement" class="btn-publicar" style="margin-top: 16px;">â• Agregar Logro</button>\n      </div>\n\n      <div id="extraTab" class="tab-content">\n        <div class="about-edit-grid">\n          <label>â­ Valores Institucionales</label>\n          <textarea id="extra_values" rows="2" placeholder="Respeto, Responsabilidad, Excelencia...">${a((null==(p=y.extra)?void 0:p.values)||"")}</textarea>\n\n          <label>ğŸ‘¥ NÃºmero de Estudiantes</label>\n          <input id="extra_enrollment" value="${a((null==(b=y.extra)?void 0:b.enrollment)||"")}" placeholder="850 estudiantes" />\n\n          <label>ğŸ‘¨â€ğŸ« NÃºmero de Docentes</label>\n          <input id="extra_teachers" value="${a((null==(g=y.extra)?void 0:g.teachers)||"")}" placeholder="45 docentes especializados" />\n\n          <label>ğŸ“ Niveles Educativos</label>\n          <input id="extra_levels" value="${a((null==(h=y.extra)?void 0:h.levels)||"")}" placeholder="Preescolar, Primaria, Secundaria" />\n        </div>\n      </div>\n\n      \x3c!-- Botones de acciÃ³n --\x3e\n      <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:24px;padding-top:24px;border-top:2px solid var(--border);">\n        <button id="saveAbout" class="btn-publicar">ğŸ’¾ Guardar Cambios</button>\n        <button id="cancelAbout" class="btn-cancelar">âŒ Cancelar</button>\n      </div>\n    </div>\n  `,document.body.appendChild(x),x.querySelector("#closeAboutEdit").onclick=()=>x.remove(),x.querySelector("#cancelAbout").onclick=()=>x.remove(),x.addEventListener("click",e=>{e.target===x&&x.remove()}),x.querySelectorAll(".about-tab").forEach(e=>{e.addEventListener("click",()=>{x.querySelectorAll(".about-tab").forEach(e=>e.classList.remove("active")),x.querySelectorAll(".tab-content").forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.dataset.tab+"Tab";x.querySelector("#"+t).classList.add("active")})}),o(x,y.team||[]),l(x,y.gallery||[]),r(x,y.achievements||[]),x.querySelector("#about_hero_file").addEventListener("change",async e=>{const t=e.target.files[0];if(t)if(t.size>2097152)d("âŒ MÃ¡ximo 2MB para la imagen","error");else try{const e=await s(t);x.querySelector("#about_hero_url").value=e,d("âœ… Imagen cargada","success")}catch(a){d("âŒ Error al cargar imagen","error")}}),x.querySelector("#saveAbout").addEventListener("click",c)}function o(e,t){const n=e.querySelector("#teamList");t.length?(n.innerHTML=t.map((e,t)=>`\n    <div class="team-member-edit" data-index="${t}">\n      <h5>ğŸ‘¤ Miembro ${t+1}</h5>\n      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">\n        <div>\n          <label>Nombre completo</label>\n          <input class="team-name" value="${a(e.name||"")}" placeholder="Juan PÃ©rez" />\n        </div>\n        <div>\n          <label>Cargo</label>\n          <input class="team-role" value="${a(e.role||"")}" placeholder="Director General" />\n        </div>\n        <div>\n          <label>Email</label>\n          <input class="team-email" value="${a(e.email||"")}" placeholder="juan@institucion.edu" />\n        </div>\n        <div>\n          <label>TelÃ©fono</label>\n          <input class="team-phone" value="${a(e.phone||"")}" placeholder="+56 63 2111111" />\n        </div>\n      </div>\n      <div style="margin-top: 16px;">\n        <label>Foto (URL)</label>\n        <input class="team-photo" value="${a(e.photo||"")}" placeholder="https://..." />\n        <input type="file" class="team-photo-file" accept="image/*" style="margin-top: 8px;" />\n        ${e.photo?`<img src="${e.photo}" class="image-upload-preview" />`:""}\n      </div>\n      <div style="text-align: right; margin-top: 16px;">\n        <button class="btn-cancelar" onclick="removeTeamMember(${t})">ğŸ—‘ï¸ Eliminar</button>\n      </div>\n    </div>\n  `).join(""),n.querySelectorAll(".team-photo-file").forEach((e,t)=>{e.addEventListener("change",async a=>{const i=a.target.files[0];if(i)if(i.size>1048576)d("âŒ MÃ¡ximo 1MB para fotos","error");else try{const a=await s(i);n.querySelector(`.team-member-edit[data-index="${t}"] .team-photo`).value=a;let o=n.querySelector(`.team-member-edit[data-index="${t}"] .image-upload-preview`);o||(o=document.createElement("img"),o.className="image-upload-preview",e.parentNode.appendChild(o)),o.src=a,d("âœ… Foto cargada","success")}catch(o){d("âŒ Error al cargar foto","error")}})}),e.querySelector("#addTeamMember").onclick=()=>{const a={id:Date.now(),name:"",role:"",photo:"",email:"",phone:""};t.push(a),o(e,t)}):n.innerHTML='\n      <div style="text-align: center; padding: 40px; color: var(--muted); border: 2px dashed var(--border); border-radius: var(--radius);">\n        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ‘¥</div>\n        <h4>No hay miembros del equipo</h4>\n        <p>Agrega el primer miembro usando el botÃ³n de abajo</p>\n      </div>\n    '}function l(e,t){const n=e.querySelector("#galleryList");t.length?(n.innerHTML=t.map((e,t)=>`\n    <div class="team-member-edit" data-index="${t}">\n      <h5>ğŸ–¼ï¸ Imagen ${t+1}</h5>\n      <div style="display: grid; gap: 16px;">\n        <div>\n          <label>TÃ­tulo</label>\n          <input class="gallery-title" value="${a(e.title||"")}" placeholder="Laboratorio de Ciencias" />\n        </div>\n        <div>\n          <label>DescripciÃ³n</label>\n          <input class="gallery-description" value="${a(e.description||"")}" placeholder="DescripciÃ³n breve..." />\n        </div>\n        <div>\n          <label>URL de imagen</label>\n          <input class="gallery-image" value="${a(e.image||"")}" placeholder="https://..." />\n          <input type="file" class="gallery-image-file" accept="image/*" style="margin-top: 8px;" />\n          ${e.image?`<img src="${e.image}" style="width: 200px; height: 120px; object-fit: cover; border-radius: 8px; margin-top: 8px;" />`:""}\n        </div>\n      </div>\n      <div style="text-align: right; margin-top: 16px;">\n        <button class="btn-cancelar" onclick="removeGalleryItem(${t})">ğŸ—‘ï¸ Eliminar</button>\n      </div>\n    </div>\n  `).join(""),n.querySelectorAll(".gallery-image-file").forEach((a,i)=>{a.addEventListener("change",async a=>{const o=a.target.files[0];if(o)if(o.size>2097152)d("âŒ MÃ¡ximo 2MB para imÃ¡genes","error");else try{const a=await s(o);n.querySelector(`.team-member-edit[data-index="${i}"] .gallery-image`).value=a,d("âœ… Imagen cargada","success"),l(e,t)}catch(r){d("âŒ Error al cargar imagen","error")}})}),e.querySelector("#addGalleryItem").onclick=()=>{const a={id:Date.now(),title:"",description:"",image:""};t.push(a),l(e,t)}):n.innerHTML='\n      <div style="text-align: center; padding: 40px; color: var(--muted); border: 2px dashed var(--border); border-radius: var(--radius);">\n        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ–¼ï¸</div>\n        <h4>No hay imÃ¡genes en la galerÃ­a</h4>\n        <p>Agrega la primera imagen usando el botÃ³n de abajo</p>\n      </div>\n    '}function r(e,t){const n=e.querySelector("#achievementsList");t.length?(n.innerHTML=t.map((e,t)=>`\n    <div class="team-member-edit" data-index="${t}">\n      <h5>ğŸ† Logro ${t+1}</h5>\n      <div style="display: grid; grid-template-columns: auto 1fr; gap: 16px;">\n        <div>\n          <label>AÃ±o</label>\n          <input class="achievement-year" value="${a(e.year||"")}" placeholder="2023" style="width: 80px;" />\n        </div>\n        <div>\n          <label>TÃ­tulo</label>\n          <input class="achievement-title" value="${a(e.title||"")}" placeholder="Mejor InstituciÃ³n Regional" />\n        </div>\n      </div>\n      <div style="margin-top: 16px;">\n        <label>DescripciÃ³n</label>\n        <textarea class="achievement-description" rows="2" placeholder="DescripciÃ³n del logro...">${a(e.description||"")}</textarea>\n      </div>\n      <div style="text-align: right; margin-top: 16px;">\n        <button class="btn-cancelar" onclick="removeAchievement(${t})">ğŸ—‘ï¸ Eliminar</button>\n      </div>\n    </div>\n  `).join(""),e.querySelector("#addAchievement").onclick=()=>{const a={id:Date.now(),year:(new Date).getFullYear().toString(),title:"",description:""};t.push(a),r(e,t)}):n.innerHTML='\n      <div style="text-align: center; padding: 40px; color: var(--muted); border: 2px dashed var(--border); border-radius: var(--radius);">\n        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ†</div>\n        <h4>No hay logros registrados</h4>\n        <p>Agrega el primer logro usando el botÃ³n de abajo</p>\n      </div>\n    '}function c(){var e;const t=document.getElementById("aboutEditModal"),a=[];t.querySelectorAll(".team-member-edit").forEach(e=>{const t={id:Date.now()+Math.random(),name:e.querySelector(".team-name").value.trim(),role:e.querySelector(".team-role").value.trim(),email:e.querySelector(".team-email").value.trim(),phone:e.querySelector(".team-phone").value.trim(),photo:e.querySelector(".team-photo").value.trim()};(t.name||t.role)&&a.push(t)});const i=[];t.querySelectorAll("#galleryList .team-member-edit").forEach(e=>{const t={id:Date.now()+Math.random(),title:e.querySelector(".gallery-title").value.trim(),description:e.querySelector(".gallery-description").value.trim(),image:e.querySelector(".gallery-image").value.trim()};(t.title||t.image)&&i.push(t)});const o=[];t.querySelectorAll("#achievementsList .team-member-edit").forEach(e=>{const t={id:Date.now()+Math.random(),year:e.querySelector(".achievement-year").value.trim(),title:e.querySelector(".achievement-title").value.trim(),description:e.querySelector(".achievement-description").value.trim()};t.title&&o.push(t)});const l={title:t.querySelector("#about_title").value.trim(),subtitle:t.querySelector("#about_subtitle").value.trim(),heroImage:t.querySelector("#about_hero_url").value.trim(),mission:t.querySelector("#about_mission").value.trim(),vision:t.querySelector("#about_vision").value.trim(),history:t.querySelector("#about_history").value.trim(),contact:{address:t.querySelector("#contact_address").value.trim(),phone:t.querySelector("#contact_phone").value.trim(),email:t.querySelector("#contact_email").value.trim(),website:t.querySelector("#contact_website").value.trim(),schedule:t.querySelector("#contact_schedule").value.trim()},team:a,gallery:i,achievements:o,extra:{values:t.querySelector("#extra_values").value.trim(),enrollment:t.querySelector("#extra_enrollment").value.trim(),teachers:t.querySelector("#extra_teachers").value.trim(),levels:t.querySelector("#extra_levels").value.trim()}};var r;r=l,localStorage.setItem("aboutContent",JSON.stringify(r)),fetch("/api.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({aboutContent:r})}),window.dispatchEvent(new CustomEvent("aboutUpdated",{detail:r}));const c=document.getElementById("main-content");if(c){"about"===(null==(e=document.querySelector(".nav-btn.active"))?void 0:e.getAttribute("data-page"))&&n(c)}t.remove(),d("âœ… Cambios guardados exitosamente","success")}function s(e){return new Promise((t,a)=>{const n=new FileReader;n.onload=()=>t(String(n.result)),n.onerror=()=>a(new Error("Error al leer archivo")),n.readAsDataURL(e)})}function d(e,t="success"){const a=document.createElement("div");a.className="toast-message",a.textContent=e,"error"===t&&(a.style.background="linear-gradient(135deg, var(--danger), #b91c1c)"),document.body.appendChild(a),setTimeout(()=>{a.style.opacity="0",setTimeout(()=>a.remove(),300)},3e3)}window.removeTeamMember=function(t){if(!confirm("Â¿Eliminar este miembro del equipo?"))return;const a=document.getElementById("aboutEditModal"),n=e();n.team.splice(t,1),o(a,n.team),d("ğŸ—‘ï¸ Miembro eliminado","success")},window.removeGalleryItem=function(t){if(!confirm("Â¿Eliminar esta imagen?"))return;const a=document.getElementById("aboutEditModal"),n=e();n.gallery.splice(t,1),l(a,n.gallery),d("ğŸ—‘ï¸ Imagen eliminada","success")},window.removeAchievement=function(t){if(!confirm("Â¿Eliminar este logro?"))return;const a=document.getElementById("aboutEditModal"),n=e();n.achievements.splice(t,1),r(a,n.achievements),d("ğŸ—‘ï¸ Logro eliminado","success")},window.openImageModal=function(e,t){const n=document.createElement("div");n.className="modal",n.innerHTML=`\n    <div class="modal-content" style="max-width: 800px; text-align: center;">\n      <h3>${a(t)}</h3>\n      <img src="${a(e)}" style="width: 100%; max-height: 70vh; object-fit: contain; border-radius: var(--radius);" />\n      <div style="margin-top: 20px;">\n        <button class="btn-cancelar" onclick="this.closest('.modal').remove()">âœ• Cerrar</button>\n      </div>\n    </div>\n  `,n.addEventListener("click",e=>{e.target===n&&n.remove()}),document.body.appendChild(n)};export{i as openEditAboutModal,n as renderAbout};
